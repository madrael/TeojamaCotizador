<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Cotizador Vehículos Teojama</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="./assets/css/styles.css" />
</head>
<body>

  <!-- =========================
       LOGIN
  ========================== -->
  <section id="login-section" class="login-container">
    <div class="login-box">
      <h2>Acceso Cotizador</h2>
      <div class="login-version">
        <span class="app-version"></span>
      </div>

      <input type="text" id="username" placeholder="Usuario" />
      <input type="password" id="password" placeholder="Contraseña" />
      <button id="login-btn" type="button">Ingresar</button>

      <p id="login-error" class="error" style="display:none;"></p>
    </div>
  </section>

  <!-- =========================
       APLICACIÓN
  ========================== -->
  <section id="quote-section" style="display:none;">

    <!-- HEADER -->
    <header class="app-header">
      <div class="app-title">Cotizador de Vehículos</div>
      <div class="app-user">
        <span id="loggedUserName"></span>
        <button id="logout-btn" title="Cerrar sesión">⎋</button>
      </div>
    </header>

    <!-- CONTENIDO -->
    <main class="app-content">

      <!-- =========================
           IZQUIERDA: PARÁMETROS
      ========================== -->
      <section class="app-left">

        <small><span class="app-version"></span></small>

        <!-- Tipo de cliente -->
        <label for="clientType">Tipo de cliente</label>
        <select id="clientType"></select>

        <!-- Tipo de vehículo -->
        <label for="vehicleType">Tipo de vehículo</label>
        <select id="vehicleType"></select>

        <!-- Marca -->
        <label for="brand">Marca</label>
        <select id="brand"></select>

        <!-- Modelo -->
        <label for="model">Modelo</label>
        <select id="model"></select>

        <!-- Precio -->
        <label for="price">Precio del vehículo</label>
        <input type="number" id="price" readonly />

        <!-- Tasa -->
        <label for="rate">Tasa anual</label>
        <input type="text" id="rate" readonly />

        <!-- Plazo -->
        <label for="term">Plazo</label>
        <select id="term"></select>

        <!-- Entrada -->
        <label for="downPayment">Entrada</label>
        <input type="number" id="downPayment" value="0" />

        <!-- Seguro -->
        <div class="checkbox-group">
          <input type="checkbox" id="includeInsurance" />
          <label for="includeInsurance">Incluir seguro</label>
        </div>

        <div id="insuranceContainer">
          <label for="insuranceValue">Valor del seguro</label>
          <input type="number" id="insuranceValue" value="0" />
        </div>

        <!-- Dispositivo -->
        <div class="checkbox-group">
          <input type="checkbox" id="includeDevice" />
          <label for="includeDevice">Incluir dispositivo</label>
        </div>

        <div id="deviceContainer">
          <label for="devicePlan">Plan de dispositivo</label>
          <select id="devicePlan"></select>

          <div class="device-info">
            <div>Proveedor: <strong id="deviceProvider">-</strong></div>
            <div>Valor: <strong id="deviceValueDisplay">$ -</strong></div>
          </div>
        </div>

        <!-- Botón -->
        <button id="calculateBtn" type="button">
          Calcular cotización
        </button>

      </section>

      <!-- =========================
           DERECHA: RESULTADO
      ========================== -->
      <section class="app-right">

        <h2>Resultado de la Cotización</h2>

        <!-- Cuota destacada -->
        <div class="result-highlight">
          <div class="highlight-label">Cuota mensual estimada</div>
          <div class="highlight-value">$ 0.00</div>
          <div class="highlight-sub">Plazo: 0 meses</div>
        </div>

        <!-- Detalle -->
        <div class="result-card">
          <h3>Detalle del Financiamiento</h3>
          <div class="result-row"><span>Precio vehículo</span><strong>$ 0.00</strong></div>
          <div class="result-row"><span>Entrada</span><strong>$ 0.00</strong></div>
          <div class="result-row"><span>Monto financiado</span><strong>$ 0.00</strong></div>
          <div class="result-row"><span>Tasa</span><strong>0%</strong></div>
          <div class="result-row"><span>Plazo</span><strong>0 meses</strong></div>
        </div>

        <!-- Adicionales -->
        <div class="result-card">
          <h3>Adicionales</h3>
          <div class="result-row"><span>Seguro</span><strong>$ 0.00</strong></div>
          <div class="result-row"><span>Dispositivo</span><strong>$ 0.00</strong></div>
        </div>

        <!-- Total -->
        <div class="result-total">
          <span>Total estimado</span>
          <strong>$ 0.00</strong>
        </div>

      </section>

    </main>
  </section>

  <!-- VERSION -->
  <script>
    const APP_VERSION = "V 1.0 · Compilación 3.17";
    document.querySelectorAll(".app-version")
      .forEach(el => el.textContent = APP_VERSION);
  </script>

  <!-- SCRIPTS -->
  <script src="./assets/js/auth.js"></script>
  <script src="./assets/js/dataLoader.js"></script>
  <script src="./assets/js/finance.js"></script>
  <script src="./assets/js/ui.js"></script>

</body>
</html>

