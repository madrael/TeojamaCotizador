<!-- =========================================================
 Proyecto      : Cotizador de Vehículos Teojama
 Archivo       : index.html
 Versión       : V 1.0
 Compilación   : 3.23.13
 Estado        : ESTABLE
 Descripción   : Línea base estable del cotizador con color y versión dinámica.
                 Versionado desacoplado vía assets/js/version.js
 Último cambio : Centralización de versión (sin cambios visuales)
========================================================= -->

<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Cotizador Vehículos Teojama</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="stylesheet" href="./assets/css/styles.css" />
</head>

<body>

  <!-- =========================
       LOGIN
  ========================== -->
  <section id="login-section" class="login-container">
    <div class="login-box">
      <h2>Acceso Cotizador</h2>
      <div class="login-version">
        <span class="app-version"></span>
      </div>

      <input type="text" id="username" placeholder="Usuario" />
      <input type="password" id="password" placeholder="Contraseña" />
      <button id="login-btn" type="button">Ingresar</button>

      <div id="login-msg" class="login-msg"></div>
    </div>
  </section>

  <!-- =========================
       APP PRINCIPAL
  ========================== -->
  <section id="app-section" class="app-container hidden">

    <header class="app-header">
      <div class="header-left">
        <h2>Cotizador de Vehículos</h2>
      </div>

      <div class="header-right">
        <div class="user-name" id="userName"></div>
        <button id="logout-btn" class="logout-btn" title="Cerrar sesión">
          <span class="logout-icon">⏻</span>
        </button>
      </div>
    </header>

    <div class="app-body">
      <div class="app-grid">

        <!-- ======================
             COLUMNA IZQUIERDA
             FILTROS
        ======================= -->
        <div class="app-left">

          <div class="card">
            <div class="card-header">
              <div class="app-version"></div>
            </div>

            <div class="form-group">
              <label>Tipo de Cliente</label>
              <select id="tipoCliente" class="input"></select>
            </div>

            <div class="form-group">
              <label>Tipo de Vehículo</label>
              <select id="tipoVehiculo" class="input"></select>
            </div>

            <div class="form-group">
              <label>Marca</label>
              <select id="marca" class="input"></select>
            </div>

            <div class="form-group">
              <label>Modelo</label>
              <select id="modelo" class="input"></select>
            </div>

            <div class="pvp-box">
              <div><strong>PVP:</strong> <span id="pvp" class="pvp-value">$0.00</span></div>
            </div>

            <div class="form-group">
              <label>Tasa de Interés</label>
              <select id="selectTasa" class="input"></select>
            </div>

            <div class="form-group">
              <label>Plazo (meses)</label>
              <select id="selectPlazo" class="input"></select>
            </div>

            <div class="form-group inline-group">
              <label>Incluir seguro</label>
              <input type="checkbox" id="chkSeguro" />
            </div>

            <div class="form-group">
              <input id="inputSeguro" class="input" placeholder="Valor póliza" />
            </div>

            <div class="form-group inline-group">
              <label>Incluir dispositivo</label>
              <input type="checkbox" id="chkDispositivo" />
            </div>

            <div id="deviceContainer" class="device-container hidden">
              <div class="form-group">
                <label>Plan de dispositivo</label>
                <select id="selectDevicePlan" class="input"></select>
              </div>

              <div class="device-info">
                <div>Proveedor: <span id="deviceProvider">—</span></div>
                <div>Valor: $<span id="deviceValueDisplay">—</span></div>
              </div>
            </div>

            <div class="form-group">
              <label>Cuota de entrada</label>
              <input id="inputEntrada" class="input" />
            </div>

            <button id="btnCalcular" class="btn btn-primary">Calcular cotización</button>
          </div>
        </div>

        <!-- ======================
             COLUMNA DERECHA
             RESULTADOS
        ======================= -->
        <div class="app-right">
          <h3>Detalle Financiamiento</h3>

          <!-- CONTENEDOR EXISTENTE (NO SE CAMBIA EL ID) -->
          <div id="tablaFinanciamiento">

            <table class="finance-table" id="financeTable">
              <thead>
                <tr>
                  <th>Concepto</th>
                  <th data-plazo="12">12 meses</th>
                  <th data-plazo="24">24 meses</th>
                  <th data-plazo="36">36 meses</th>
                  <th data-plazo="48">48 meses</th>
                  <th data-plazo="60">60 meses</th>
                </tr>
              </thead>

              <tbody>
                <tr>
                  <td class="concepto">PVP Vehículo</td>
                  <td data-plazo="12" id="pvp-12">—</td>
                  <td data-plazo="24" id="pvp-24">—</td>
                  <td data-plazo="36" id="pvp-36">—</td>
                  <td data-plazo="48" id="pvp-48">—</td>
                  <td data-plazo="60" id="pvp-60">—</td>
                </tr>

                <tr>
                  <td class="concepto">Dispositivo Satelital</td>
                  <td data-plazo="12" id="device-12">—</td>
                  <td data-plazo="24" id="device-24">—</td>
                  <td data-plazo="36" id="device-36">—</td>
                  <td data-plazo="48" id="device-48">—</td>
                  <td data-plazo="60" id="device-60">—</td>
                </tr>

                <tr>
                  <td class="concepto"><strong>Monto total</strong></td>
                  <td data-plazo="12" id="total-12">—</td>
                  <td data-plazo="24" id="total-24">—</td>
                  <td data-plazo="36" id="total-36">—</td>
                  <td data-plazo="48" id="total-48">—</td>
                  <td data-plazo="60" id="total-60">—</td>
                </tr>

                <tr>
                  <td class="concepto">Cuota de entrada</td>
                  <td data-plazo="12" id="entrada-12">—</td>
                  <td data-plazo="24" id="entrada-24">—</td>
                  <td data-plazo="36" id="entrada-36">—</td>
                  <td data-plazo="48" id="entrada-48">—</td>
                  <td data-plazo="60" id="entrada-60">—</td>
                </tr>

                <tr class="separator">
                  <td colspan="6"></td>
                </tr>

                <tr>
                  <td class="concepto"><strong>Monto a financiar</strong></td>
                  <td data-plazo="12" id="fin-12">—</td>
                  <td data-plazo="24" id="fin-24">—</td>
                  <td data-plazo="36" id="fin-36">—</td>
                  <td data-plazo="48" id="fin-48">—</td>
                  <td data-plazo="60" id="fin-60">—</td>
                </tr>

                <tr>
                  <td class="concepto"><strong>Cuota mensual</strong></td>
                  <td data-plazo="12" id="cuota-12">—</td>
                  <td data-plazo="24" id="cuota-24">—</td>
                  <td data-plazo="36" id="cuota-36">—</td>
                  <td data-plazo="48" id="cuota-48">—</td>
                  <td data-plazo="60" id="cuota-60">—</td>
                </tr>

                <tr>
                  <td class="concepto">Cuota seguro</td>
                  <td data-plazo="12" id="seguro-12">—</td>
                  <td data-plazo="24" id="seguro-24">—</td>
                  <td data-plazo="36" id="seguro-36">—</td>
                  <td data-plazo="48" id="seguro-48">—</td>
                  <td data-plazo="60" id="seguro-60">—</td>
                </tr>
              </tbody>
            </table>

          </div>

          <!-- =========================
               RESUMEN DEL CRÉDITO (ESTILO BANCO)
          ========================== -->
          <div id="creditSummary" class="credit-summary">
            <div class="credit-summary-left">
              <div class="summary-title">Cuota mensual estimada</div>
              <div class="summary-amount" id="summary-cuota">—</div>
              <div class="summary-sub">
                (Capital + Interés)<br />
                Tasa de interés referencial <span id="summary-tasa">—</span>
              </div>
            </div>

            <div class="credit-summary-right">
              <div class="summary-right-title">Detalle referencial de tu crédito</div>

              <div class="summary-row">
                <span>Tiempo:</span>
                <span id="summary-plazo">—</span>
              </div>
              <div class="summary-row">
                <span>Tasa de interés:</span>
                <span id="summary-tasa-detail">—</span>
              </div>
              <div class="summary-row">
                <span>Capital:</span>
                <span id="summary-capital">—</span>
              </div>
              <div class="summary-row">
                <span>Total Seguro:</span>
                <span id="summary-seguro">—</span>
              </div>
              <div class="summary-row">
                <span>Total Dispositivo:</span>
                <span id="summary-dispositivo">—</span>
              </div>
              <div class="summary-row">
                <span>Total de interés:</span>
                <span id="summary-interes">—</span>
              </div>
              <div class="summary-row summary-total">
                <span>Total a pagar:</span>
                <span id="summary-total-pagar">—</span>
              </div>
            </div>

            <div class="credit-summary-disclaimer">
              <span class="warn-icon">⚠</span>
              Los valores del simulador son referenciales y están calculados a 360 días para pagos periódicos.
              Los valores finales se proporcionarán una vez aprobado el crédito y emitida la documentación correspondiente.
            </div>
          </div>

        </div>

      </div>
    </div>
  </section>

  <!-- ============
       SCRIPTS
  ============ -->
  <script src="./assets/js/version.js"></script>
  <script src="./assets/js/auth.js"></script>
  <script src="./assets/js/dataLoader.js"></script>
  <script src="./assets/js/nominalBase.js"></script>
  <script src="./assets/js/finance.js"></script>
  <script src="./assets/js/ui.js"></script>

  <!-- VERSION -->
  <script>
    document.querySelectorAll(".app-version")
      .forEach(el => el.textContent = APP_VERSION);
  </script>

</body>
</html>


